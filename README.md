# 文件搜索

文件搜索，快速查找 Mac 上的文件，原 Mverything Plus，基于 `mdfind` 命令构建。

## 背景

在 uTools 的 Mac 端上的文件搜索工具，只有 [Mverything](https://github.com/lanyuanxiaoyao/Mverything) 这一个插件可供选择，但其搜索体验略显繁琐，且很久没有维护了，一直缺少一款好用的文件搜索插件，于是就打算自己写一个。本项目的初始版本在 [Mverything](https://github.com/lanyuanxiaoyao/Mverything) 的基础上开发，感谢 [lanyuanxiaoyao](https://github.com/lanyuanxiaoyao) 的开源项目。

## 特性

1. 主搜索框快速搜索，空格或单引号触发
2. 查看最近使用的文件
3. 自定义类型筛选
4. 搜索结果高亮
5. 深色模式
6. 支持多选、拖拽文件
7. 多种显示模式：列表、预览模式
8. 支持文件夹、文件预览
9. 方便切换搜索范围，目录或磁盘
10. 多种排序规则
11. 易用的快捷键

## 安装

直接在 uTools 插件应用市场搜索“文件搜索”安装

## 开发

```shell
# 安装依赖
pnpm install

# 运行项目
pnpm dev

# 构建项目
pnpm build
```

## 帮助

### 搜索

在搜索框输入文本即可搜索，默认模糊搜索文件和文件夹。除此之外，还可以：

1. 使用 `*` 手动进行模糊搜索；

2. 加上引号完全匹配名称，支持中英文引号；

3. 在搜索文本前添加：一个空格只搜索文件夹，两个空格只搜索文件；

4. 多个搜索词可用空格分开；

5. 使用 `-` 排除匹配搜索词。

示例：

1. `*txt`，搜索所有名称以“txt”结尾的文件或文件夹

2. `“图片”`，搜索名称为“图片”的文件或文件夹

3. <code>&nbsp;附件</code>，搜索名称包含“附件”的文件夹

4. `学习 语言`，搜索名称同时包含“学习”和“语言”的文件或文件夹

5. `java -javascript`，搜索名称包含“java”而不包含”javascript“的文件或文件夹

### 筛选

#### 类型筛选

根据文件类型直接进行搜索。

添加规则：多个类型用 `|` 分隔，排除用 `!`，详细类型见预览框中的类型树项，可参考默认提供的编写。

#### 正则筛选

对搜索结果的每个文件路径，使用正则表达式进行过滤筛选。使用方法：在搜索文本前加上关键字，具体格式 `关键字:搜索文本`。

示例：

`notlibrary:xml`，搜索名称包含“xml”的结果，并使用关键字 `notlibrary` 对应的正则表达式进行筛选

### 预览

直接预览文件、文件夹内容。支持文件夹、文本、图片、音频和视频文件的预览，可根据需要配置文件名后缀，使用逗号 `,` 分隔开。（注：图片、音频和视频文件的预览，有些格式可能无法显示）

### 问题

- 搜索不到已存在的文件？

  请尝试重建索引，见 https://support.apple.com/zh-cn/HT201716

- 主搜索框搜索结果与插件内搜索结果不一致？

  设计上就是如此，考虑到在主搜索框搜索的效率问题，搜索结果不包含系统文件，而插件内的搜索结果则是包含系统文件的。
